<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Configuration Editor - Uptime Monitor</title>
		<meta name="description" content="Visual configuration editor for Uptime Monitor. Import, edit, and export your config.toml with an intuitive interface." />
		<link rel="icon" type="image/svg+xml" href="logo.svg" />
		<link rel="stylesheet" href="configurator.css" />
	</head>
	<body>
		<!-- Header -->
		<header class="header" id="header">
			<div class="container">
				<div class="header-inner">
					<a href="/" class="logo">
						<img src="logo.svg" alt="Uptime Monitor" class="logo-img" />
						<span>Uptime Monitor</span>
					</a>

					<nav class="nav">
						<ul class="nav-links">
							<li><a href="/#features">Features</a></li>
							<li><a href="/#protocols">Protocols</a></li>
							<li><a href="/#architecture">Architecture</a></li>
							<li><a href="/#demo">Demo</a></li>
							<li><a href="#">Configurator</a></li>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/tree/main/docs" target="_blank">Docs</a>
							</li>
						</ul>

						<div class="nav-cta">
							<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server" target="_blank" class="btn btn-secondary">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
									<path
										d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
									/>
								</svg>
								GitHub
							</a>
							<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/releases" target="_blank" class="btn btn-primary"> Get Started </a>
						</div>

						<button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M3 12h18M3 6h18M3 18h18" />
							</svg>
						</button>
					</nav>
				</div>

				<!-- Mobile Menu -->
				<div class="mobile-menu" id="mobileMenu">
					<ul class="mobile-nav-links">
						<li><a href="/#features">Features</a></li>
						<li><a href="/#protocols">Protocols</a></li>
						<li><a href="/#architecture">Architecture</a></li>
						<li><a href="/#demo">Demo</a></li>
						<li><a href="#">Configurator</a></li>
						<li>
							<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/tree/main/docs" target="_blank">Docs</a>
						</li>
					</ul>
					<div class="mobile-nav-cta">
						<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server" target="_blank" class="btn btn-secondary">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
								<path
									d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
								/>
							</svg>
							GitHub
						</a>
						<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/releases" target="_blank" class="btn btn-primary"> Get Started </a>
					</div>
				</div>
			</div>
		</header>

		<!-- Page Hero -->
		<section class="page-hero">
			<div class="container">
				<div class="page-hero-content">
					<h1>Visual <span class="gradient">Configuration</span> Editor</h1>
					<p>Import your config.toml, edit visually, and export back. No more manual TOML wrangling.</p>
				</div>
			</div>
		</section>

		<!-- Main Content -->
		<section class="config-main">
			<div class="container">
				<!-- Toolbar -->
				<div class="toolbar">
					<div class="toolbar-group">
						<button class="btn btn-secondary btn-sm" data-action="import-toml">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
								<polyline points="17 8 12 3 7 8" />
								<line x1="12" y1="3" x2="12" y2="15" />
							</svg>
							Import TOML
						</button>
						<input type="file" id="fileInput" accept=".toml,.txt" />
						<button class="btn btn-secondary btn-sm" data-action="load-example">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
								<polyline points="14 2 14 8 20 8" />
							</svg>
							Load Example
						</button>
						<button class="btn btn-secondary btn-sm" data-action="reset-config">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="1 4 1 10 7 10" />
								<path d="M3.51 15a9 9 0 102.13-9.36L1 10" />
							</svg>
							Reset
						</button>
					</div>
					<div class="toolbar-group">
						<button class="btn btn-primary btn-sm" data-action="export-toml">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
								<polyline points="7 10 12 15 17 10" />
								<line x1="12" y1="15" x2="12" y2="3" />
							</svg>
							Export TOML
						</button>
					</div>
				</div>

				<!-- Tabs -->
				<div class="tabs" id="tabs">
					<button class="tab active" data-tab="general">General</button>
					<button class="tab" data-tab="monitors">Monitors <span class="tab-badge" id="badge-monitors">0</span></button>
					<button class="tab" data-tab="groups">Groups <span class="tab-badge" id="badge-groups">0</span></button>
					<button class="tab" data-tab="statuspages">Status Pages <span class="tab-badge" id="badge-statuspages">0</span></button>
					<button class="tab" data-tab="notifications">Notifications <span class="tab-badge" id="badge-notifications">0</span></button>
					<button class="tab" data-tab="pulsemonitors">PulseMonitors <span class="tab-badge" id="badge-pulsemonitors">0</span></button>
				</div>

				<!-- General Tab -->
				<div class="tab-panel active" id="panel-general">
					<!-- ClickHouse -->
					<div class="config-card">
						<div class="config-card-header">
							<div class="config-card-title">
								<h3>ClickHouse Connection</h3>
								<span class="badge">Required</span>
							</div>
						</div>
						<div class="form-grid">
							<div class="form-group full-width">
								<label class="form-label">Connection URL <span class="required">*</span></label>
								<input class="form-input mono" type="text" id="ch-url" placeholder="http://user:pass@clickhouse:8123/uptime_monitor" />
								<span class="form-hint">Format: http://user:password@host:port/database</span>
							</div>
						</div>
					</div>

					<!-- Server -->
					<div class="config-card">
						<div class="config-card-header">
							<div class="config-card-title"><h3>Server Settings</h3></div>
						</div>
						<div class="form-grid">
							<div class="form-group">
								<label class="form-label">Port</label>
								<input class="form-input" type="number" id="srv-port" placeholder="3000" />
							</div>
							<div class="form-group">
								<label class="form-label">Proxy Preset</label>
								<select class="form-select" id="srv-proxy">
									<option value="">Default (direct)</option>
									<option value="direct">direct</option>
									<option value="cloudflare">cloudflare</option>
									<option value="aws">aws</option>
									<option value="gcp">gcp</option>
									<option value="azure">azure</option>
									<option value="vercel">vercel</option>
									<option value="nginx">nginx</option>
									<option value="development">development</option>
								</select>
							</div>
							<div class="form-group">
								<label class="form-label">Reload Token</label>
								<input class="form-input mono" type="text" id="srv-reloadToken" placeholder="Auto-generated if empty" />
							</div>
						</div>
					</div>

					<!-- Logger -->
					<div class="config-card">
						<div class="config-card-header">
							<div class="config-card-title"><h3>Logger</h3></div>
						</div>
						<div class="form-grid">
							<div class="form-group">
								<label class="form-label">Log Level</label>
								<select class="form-select" id="log-level">
									<option value="">Default (4 - HTTP)</option>
									<option value="0">0 - ERROR</option>
									<option value="1">1 - WARN</option>
									<option value="2">2 - AUDIT</option>
									<option value="3">3 - INFO</option>
									<option value="4">4 - HTTP</option>
									<option value="5">5 - DEBUG</option>
									<option value="6">6 - VERBOSE</option>
									<option value="7">7 - SILLY</option>
								</select>
							</div>
						</div>
					</div>

					<!-- Missing Pulse Detector -->
					<div class="config-card">
						<div class="config-card-header">
							<div class="config-card-title"><h3>Missing Pulse Detector</h3></div>
						</div>
						<div class="form-grid">
							<div class="form-group">
								<label class="form-label">Check Interval (seconds)</label>
								<input class="form-input" type="number" id="mpd-interval" placeholder="5" min="1" />
							</div>
						</div>
					</div>

					<!-- Self-Monitoring -->
					<div class="config-card">
						<div class="config-card-header">
							<div class="config-card-title"><h3>Self-Monitoring</h3></div>
						</div>
						<div class="form-grid">
							<div class="form-group">
								<label class="form-check">
									<input type="checkbox" id="sm-enabled" />
									<span class="form-check-label">Enable self-monitoring</span>
								</label>
							</div>
							<div class="form-group">
								<label class="form-label">ID</label>
								<input class="form-input mono" type="text" id="sm-id" placeholder="self-monitor" />
							</div>
							<div class="form-group">
								<label class="form-label">Interval (seconds)</label>
								<input class="form-input" type="number" id="sm-interval" placeholder="3" min="1" />
							</div>
							<div class="form-group">
								<label class="form-check">
									<input type="checkbox" id="sm-backfill" />
									<span class="form-check-label">Backfill on recovery</span>
								</label>
							</div>
							<div class="form-group">
								<label class="form-label">Latency Strategy</label>
								<select class="form-select" id="sm-latencyStrategy">
									<option value="last-known">last-known</option>
									<option value="null">null</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<!-- Monitors Tab -->
				<div class="tab-panel" id="panel-monitors">
					<div id="monitors-list"></div>
					<div style="text-align: center; margin-top: 16px">
						<button class="btn btn-secondary" data-action="add-monitor">
							<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<line x1="12" y1="5" x2="12" y2="19" />
								<line x1="5" y1="12" x2="19" y2="12" />
							</svg>
							Add Monitor
						</button>
					</div>
				</div>

				<!-- Groups Tab -->
				<div class="tab-panel" id="panel-groups">
					<div id="groups-list"></div>
					<div style="text-align: center; margin-top: 16px">
						<button class="btn btn-secondary" data-action="add-group">
							<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<line x1="12" y1="5" x2="12" y2="19" />
								<line x1="5" y1="12" x2="19" y2="12" />
							</svg>
							Add Group
						</button>
					</div>
				</div>

				<!-- Status Pages Tab -->
				<div class="tab-panel" id="panel-statuspages">
					<div id="statuspages-list"></div>
					<div style="text-align: center; margin-top: 16px">
						<button class="btn btn-secondary" data-action="add-statuspage">
							<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<line x1="12" y1="5" x2="12" y2="19" />
								<line x1="5" y1="12" x2="19" y2="12" />
							</svg>
							Add Status Page
						</button>
					</div>
				</div>

				<!-- Notifications Tab -->
				<div class="tab-panel" id="panel-notifications">
					<div id="notifications-list"></div>
					<div style="text-align: center; margin-top: 16px">
						<button class="btn btn-secondary" data-action="add-notification">
							<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<line x1="12" y1="5" x2="12" y2="19" />
								<line x1="5" y1="12" x2="19" y2="12" />
							</svg>
							Add Notification Channel
						</button>
					</div>
				</div>

				<!-- PulseMonitors Tab -->
				<div class="tab-panel" id="panel-pulsemonitors">
					<div id="pulsemonitors-list"></div>
					<div style="text-align: center; margin-top: 16px">
						<button class="btn btn-secondary" data-action="add-pulsemonitor">
							<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<line x1="12" y1="5" x2="12" y2="19" />
								<line x1="5" y1="12" x2="19" y2="12" />
							</svg>
							Add PulseMonitor
						</button>
					</div>
				</div>
			</div>
		</section>

		<!-- Relationship Visualizer -->
		<section class="section visualizer-section" id="visualizer-section">
			<div class="container">
				<div class="visualizer-header">
					<div class="visualizer-title-group">
						<h2>Configuration <span class="gradient">Topology</span></h2>
						<p>Interactive graph showing how monitors, groups, status pages, notifications, and PulseMonitor agents are connected.</p>
					</div>
					<div class="visualizer-controls">
						<select
							id="graph-filter"
							class="form-select"
							style="padding: 6px 32px 6px 12px; font-size: 0.85rem; width: auto; background-position: right 8px center"
						>
							<option value="all">Show All Connections</option>
						</select>

						<button class="btn btn-secondary btn-sm" data-action="graph-refresh" title="Refresh graph">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="1 4 1 10 7 10" />
								<path d="M3.51 15a9 9 0 102.13-9.36L1 10" />
							</svg>
							Refresh
						</button>

						<button class="btn btn-secondary btn-sm" data-action="graph-fit" title="Fit to view">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7" />
							</svg>
							Fit
						</button>
					</div>
				</div>
				<div class="visualizer-container">
					<div id="cy-graph"></div>
					<div class="visualizer-legend">
						<div class="legend-item"><span class="legend-dot legend-dot-monitor"></span> Monitor</div>
						<div class="legend-item"><span class="legend-dot legend-dot-group"></span> Group</div>
						<div class="legend-item"><span class="legend-dot legend-dot-statuspage"></span> Status Page</div>
						<div class="legend-item"><span class="legend-dot legend-dot-notification"></span> Notification</div>
						<div class="legend-item"><span class="legend-dot legend-dot-pulse"></span> PulseMonitor</div>
						<div class="legend-item"><span class="legend-dot legend-dot-dependency"></span> Dependency</div>
					</div>
					<div class="visualizer-empty" id="graph-empty">
						<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
							<circle cx="5.5" cy="7" r="2.5" />
							<circle cx="18.5" cy="7" r="2.5" />
							<circle cx="12" cy="18" r="2.5" />
							<path d="M7.5 8.5L10.5 16M16.5 8.5L13.5 16M8 7h8" />
						</svg>
						<h3>No Connections Yet</h3>
						<p>Import a config or add monitors and groups above to see the topology graph.</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Footer -->
		<footer class="footer">
			<div class="container">
				<div class="footer-grid">
					<div class="footer-brand">
						<a href="#" class="logo">
							<img src="logo.svg" alt="Uptime Monitor" class="logo-img" />
							<span>Uptime Monitor</span>
						</a>
						<p>Open-source, self-hosted infrastructure monitoring by Rabbit Company.</p>
						<div class="footer-social">
							<a href="https://discord.rabbit-company.com/" target="_blank" aria-label="Discord">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
									<path
										d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"
									/>
								</svg>
							</a>
							<a href="https://github.com/Rabbit-Company" target="_blank" aria-label="GitHub">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
									<path
										d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
									/>
								</svg>
							</a>
							<a href="https://rabbit-company.com" target="_blank" aria-label="Website">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<circle cx="12" cy="12" r="10" />
									<path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" />
								</svg>
							</a>
						</div>
					</div>

					<div class="footer-column">
						<h4>Products</h4>
						<ul>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server" target="_blank">Uptime Server</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-StatusPage" target="_blank">Status Page</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company/PulseMonitor" target="_blank">PulseMonitor</a>
							</li>
						</ul>
					</div>

					<div class="footer-column">
						<h4>Resources</h4>
						<ul>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/tree/main/docs" target="_blank">Documentation</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/tree/main/docs/api.md" target="_blank">API Reference</a>
							</li>
							<li>
								<a href="https://status.passky.org" target="_blank">Live Demo</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/releases" target="_blank">Releases</a>
							</li>
						</ul>
					</div>

					<div class="footer-column">
						<h4>Company</h4>
						<ul>
							<li>
								<a href="https://rabbit-company.com" target="_blank">Rabbit Company</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company" target="_blank">Open Source</a>
							</li>
							<li>
								<a href="https://github.com/Rabbit-Company/UptimeMonitor-Server/blob/main/LICENSE" target="_blank">License (GPL-3.0)</a>
							</li>
						</ul>
					</div>
				</div>

				<div class="footer-bottom">
					<span>© 2026 <a href="https://rabbit-company.com" target="_blank">Rabbit Company</a>. All rights reserved.</span>
					<span>Made with ❤️ for the open source community</span>
				</div>
			</div>
		</footer>

		<!-- Toast -->
		<div class="toast" id="toast"></div>

		<!-- Scripts -->
		<script type="module" src="configurator.js"></script>
	</body>
</html>
